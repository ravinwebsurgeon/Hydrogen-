import{a as j,c as ae,d as Ue,f as oe,j as Oe,l as Ae,u as Le,x as ie}from"/build/_shared/chunk-PORSORIO.js";import{c as S}from"/build/_shared/chunk-Q3IECNXJ.js";function x(e){if(!e){let t=`flattenConnection(): needs a 'connection' to flatten, but received '${e??""}' instead.`;return console.error(t+" Returning an empty array"),[]}return"nodes"in e?e.nodes:"edges"in e&&Array.isArray(e.edges)?e.edges.map(t=>{if(!t?.node)throw new Error("flattenConnection(): Connection edges must contain nodes");return t.node}):[]}var Q=S(ie(),1);var se=S(j(),1);var qt=S(ie(),1),J=S(j(),1);var De="2024-10";var Nt={storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:De,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}},Vt=(0,J.createContext)(Nt);function qe(){let e=(0,J.useContext)(Vt);if(!e)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return e}function Ie(e){let{countryIsoCode:t,languageIsoCode:r}=qe(),n=r.includes("_")?r.replace("_","-"):`${r}-${t}`;if(!n)throw new Error("useMoney(): Unable to get 'locale' from 'useShop()', which means that 'locale' was not passed to '<ShopifyProvider/>'. 'locale' is required for 'useMoney()' to work");let a=parseFloat(e.amount),{defaultFormatter:o,nameFormatter:i,narrowSymbolFormatter:s,withoutTrailingZerosFormatter:c,withoutCurrencyFormatter:u,withoutTrailingZerosOrCurrencyFormatter:p}=(0,se.useMemo)(()=>{let l={style:"currency",currency:e.currencyCode};return{defaultFormatter:H(n,l),nameFormatter:H(n,{...l,currencyDisplay:"name"}),narrowSymbolFormatter:H(n,{...l,currencyDisplay:"narrowSymbol"}),withoutTrailingZerosFormatter:H(n,{...l,minimumFractionDigits:0,maximumFractionDigits:0}),withoutCurrencyFormatter:H(n),withoutTrailingZerosOrCurrencyFormatter:H(n,{minimumFractionDigits:0,maximumFractionDigits:0})}},[e.currencyCode,n]),h=l=>l.type==="currency",f=(0,se.useMemo)(()=>({original:()=>e,currencyCode:()=>e.currencyCode,localizedString:()=>o().format(a),parts:()=>o().formatToParts(a),withoutTrailingZeros:()=>a%1===0?c().format(a):o().format(a),withoutTrailingZerosAndCurrency:()=>a%1===0?p().format(a):u().format(a),currencyName:()=>{var l;return((l=i().formatToParts(a).find(h))==null?void 0:l.value)??e.currencyCode},currencySymbol:()=>{var l;return((l=o().formatToParts(a).find(h))==null?void 0:l.value)??e.currencyCode},currencyNarrowSymbol:()=>{var l;return((l=s().formatToParts(a).find(h))==null?void 0:l.value)??""},amount:()=>o().formatToParts(a).filter(l=>["decimal","fraction","group","integer","literal"].includes(l.type)).map(l=>l.value).join("")}),[e,a,i,o,s,u,c,p]);return(0,se.useMemo)(()=>new Proxy(f,{get:(l,g)=>{var m;return(m=Reflect.get(l,g))==null?void 0:m.call(null)}}),[f])}var Ne=new Map;function H(e,t){let r=JSON.stringify([e,t]);return function(){let n=Ne.get(r);return n||(n=new Intl.NumberFormat(e,t),Ne.set(r,n)),n}}function Ve({data:e,as:t,withoutCurrency:r,withoutTrailingZeros:n,measurement:a,measurementSeparator:o="/",...i}){if(!Mt(e))throw new Error("<Money/> needs a valid 'data' prop that has 'amount' and 'currencyCode'");let s=Ie(e),c=t??"div",u=s.localizedString;return(r||n)&&(r&&!n?u=s.amount:!r&&n?u=s.withoutTrailingZeros:u=s.withoutTrailingZerosAndCurrency),(0,Q.jsxs)(c,{...i,children:[u,a&&a.referenceUnit&&(0,Q.jsxs)(Q.Fragment,{children:[o,a.referenceUnit]})]})}function Mt(e){return typeof e.amount=="string"&&!!e.amount&&typeof e.currencyCode=="string"&&!!e.currencyCode}var Z=S(ie(),1),b=S(j(),1);var Fe=b.forwardRef(({alt:e,aspectRatio:t,crop:r="center",data:n,decoding:a="async",height:o="auto",loader:i=ce,loading:s="lazy",sizes:c,src:u,srcSetOptions:p={intervals:15,startingWidth:200,incrementSize:200,placeholderWidth:100},width:h="100%",...f},l)=>{let g=b.useMemo(()=>{let F=n?.width&&n?.height?n?.width:void 0,Y=n?.width&&n?.height?n?.height:void 0;return{width:F,height:Y,unitsMatch:Boolean(je(F,Y))}},[n]),m=b.useMemo(()=>{let Y=X((h||"100%").toString()),$t=`${Y.number}${Y.unit}`,Re=o==null,Ce=Re?null:X(o.toString()),Rt=Ce?`${Ce.number}${Ce.unit}`:"",Ut=Re?"auto":Rt,Ot=u||n?.url,Lt=n?.altText&&!e?n?.altText:e||"",Dt=t||(g.unitsMatch?[z(g.width),z(g.height)].join("/"):void 0);return{width:$t,height:Ut,src:Ot,alt:Lt,aspectRatio:Dt}},[h,o,u,n,e,t,g,f?.key]),{intervals:C,startingWidth:k,incrementSize:L,placeholderWidth:V}=p,K=b.useMemo(()=>Ht(h,C,k,L),[h,C,k,L]);return He(m.width)?(0,Z.jsx)(Ft,{aspectRatio:t,crop:r,decoding:a,height:o,imageWidths:K,loader:i,loading:s,normalizedProps:m,passthroughProps:f,ref:l,width:h,data:n}):(0,Z.jsx)(jt,{aspectRatio:t,crop:r,decoding:a,imageWidths:K,loader:i,loading:s,normalizedProps:m,passthroughProps:f,placeholderWidth:V,ref:l,sizes:c,data:n})}),Ft=b.forwardRef(({aspectRatio:e,crop:t,decoding:r,height:n,imageWidths:a,loader:o=ce,loading:i,normalizedProps:s,passthroughProps:c,width:u,data:p},h)=>{let f=b.useMemo(()=>{let l=z(u),g=z(n),m=e||(je(s.width,s.height)?[l,g].join("/"):s.aspectRatio?s.aspectRatio:void 0),C=a===void 0?void 0:Ge(a,m,t,{width:p?.width??void 0,height:p?.height??void 0}),k=g||(m&&l?l*(Se(m)??1):void 0),L=Be(s.src,C,o),V=o({src:s.src,width:l,height:k,crop:s.height==="auto"?void 0:t});return{width:l,aspectRatio:m,height:k,srcSet:L,src:V}},[e,t,p,n,a,o,s,u]);return(0,Z.jsx)("img",{ref:h,alt:s.alt,decoding:r,height:f.height,loading:i,src:f.src,srcSet:f.srcSet,width:f.width,style:{aspectRatio:f.aspectRatio,...c.style},...c})}),jt=b.forwardRef(({crop:e,decoding:t,imageWidths:r,loader:n=ce,loading:a,normalizedProps:o,passthroughProps:i,placeholderWidth:s,sizes:c,data:u},p)=>{let h=b.useMemo(()=>{let f=r===void 0?void 0:Ge(r,o.aspectRatio,e,{width:u?.width??void 0,height:u?.height??void 0}),l=o.aspectRatio&&s?s*(Se(o.aspectRatio)??1):void 0,g=Be(o.src,f,n),m=n({src:o.src,width:s,height:l,crop:e});return{placeholderHeight:l,srcSet:g,src:m}},[e,u,r,n,o,s]);return(0,Z.jsx)("img",{ref:p,alt:o.alt,decoding:t,height:h.placeholderHeight,loading:a,sizes:c,src:h.src,srcSet:h.srcSet,width:s,...i,style:{width:o.width,aspectRatio:o.aspectRatio,...i.style}})}),Me="https://placeholder.shopify.com";function ce({src:e,width:t,height:r,crop:n}){if(!e)return"";let a=new URL(e,Me);return t&&a.searchParams.append("width",Math.round(t).toString()),r&&a.searchParams.append("height",Math.round(r).toString()),n&&a.searchParams.append("crop",n),a.href.replace(Me,"")}function je(e="100%",t="auto"){return X(e.toString()).unit===X(t.toString()).unit}function X(e){let t=e.replace(/[0-9.]/g,""),r=parseFloat(e.replace(t,""));return{unit:t===""?r===void 0?"auto":"px":t,number:r}}function z(e){if(e===void 0)return;let{unit:t,number:r}=X(e.toString());switch(t){case"em":return r*16;case"rem":return r*16;case"px":return r;case"":return r;default:return}}function He(e){return typeof e=="number"||/\d(px|em|rem)$/.test(e)}function Be(e,t,r=ce){return e?t?.length===0||!t?e:t.map((n,a)=>`${r({src:e,width:n.width,height:n.height,crop:n.crop})} ${t.length===3?`${a+1}x`:`${n.width??0}w`}`).join(", "):""}function Ht(e="100%",t,r,n){let a=Array.from({length:t},(i,s)=>s*n+r),o=Array.from({length:3},(i,s)=>(s+1)*(z(e)??0));return He(e)?o:a}function Se(e){if(!e)return;let[t,r]=e.split("/");return 1/(Number(t)/Number(r))}function Ge(e,t,r="center",n){if(e)return e.map(a=>({width:a,height:t?a*(Se(t)??1):void 0,crop:r})).filter(({width:a,height:o})=>!(n?.width&&a>n.width||n?.height&&o&&o>n.height))}var E="_shopify_y",T="_shopify_s";var Bt=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function be(e){let t={},r,n,a=0,o=e.split(/;\s*/g),i,s;for(;a<o.length;a++)if(n=o[a],r=n.indexOf("="),~r){if(i=n.substring(0,r++).trim(),s=n.substring(r).trim(),s[0]==='"'&&(s=s.substring(1,s.length-1)),~s.indexOf("%"))try{s=decodeURIComponent(s)}catch{}Bt.has(n=i.toLowerCase())?n==="expires"?t.expires=new Date(s):n==="max-age"?t.maxage=+s:t[n]=s:t[i]=s}else(i=n.trim().toLowerCase())&&(i==="httponly"||i==="secure")&&(t[i]=!0);return t}function Ee(e,t,r={}){let n=e+"="+encodeURIComponent(t);return r.expires&&(n+="; Expires="+new Date(r.expires).toUTCString()),r.maxage!=null&&r.maxage>=0&&(n+="; Max-Age="+(r.maxage|0)),r.domain&&(n+="; Domain="+r.domain),r.path&&(n+="; Path="+r.path),r.samesite&&(n+="; SameSite="+r.samesite),(r.secure||r.samesite==="None")&&(n+="; Secure"),r.httponly&&(n+="; HttpOnly"),n}var We="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function D(){let e="";try{let t=window.crypto,r=new Uint16Array(31);t.getRandomValues(r);let n=0;e=We.replace(/[x]/g,a=>{let o=r[n]%16,i=a==="x"?o:o&3|8;return n++,i.toString(16)}).toUpperCase()}catch{e=We.replace(/[x]/g,r=>{let n=Math.random()*16|0;return(r==="x"?n:n&3|8).toString(16)}).toUpperCase()}return`${Gt()}-${e}`}function Gt(){let e=0,t=0;e=new Date().getTime()>>>0;try{t=performance.now()>>>0}catch{t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}function B(e){let t=be(e);return{[E]:t[E]||"",[T]:t[T]||""}}var v={PAGE_VIEW:"PAGE_VIEW",ADD_TO_CART:"ADD_TO_CART",PAGE_VIEW_2:"PAGE_VIEW_2",COLLECTION_VIEW:"COLLECTION_VIEW",PRODUCT_VIEW:"PRODUCT_VIEW",SEARCH_VIEW:"SEARCH_VIEW"},_={article:"article",blog:"blog",captcha:"captcha",cart:"cart",collection:"collection",customersAccount:"customers/account",customersActivateAccount:"customers/activate_account",customersAddresses:"customers/addresses",customersLogin:"customers/login",customersOrder:"customers/order",customersRegister:"customers/register",customersResetPassword:"customers/reset_password",giftCard:"gift_card",home:"index",listCollections:"list-collections",forbidden:"403",notFound:"404",page:"page",password:"password",product:"product",policy:"policy",search:"search"},ue={hydrogen:"hydrogen",headless:"headless"},Te={hydrogen:"6167201",headless:"12875497473"};function I(e,t){return{schema_id:e,payload:t,metadata:{event_created_at_ms:Date.now()}}}function w(e){let t={id:"",resource:null,resourceId:null,search:"",searchParams:new URLSearchParams,hash:""};if(typeof e!="string")return t;try{let{search:r,searchParams:n,pathname:a,hash:o}=new URL(e),i=a.split("/"),s=i[i.length-1],c=i[i.length-2];return!s||!c?t:{id:`${s}${r}${o}`||"",resource:c??null,resourceId:s||null,search:r,searchParams:n,hash:o}}catch{return t}}function A(e,t){return typeof e!="object"?{}:(Object.entries(e).forEach(([r,n])=>{n&&(t[r]=n)}),t)}function Ke(e){return typeof document>"u"?(console.error(`${e} should only be used within the useEffect callback or event handlers`),!0):!1}var Wt="trekkie_storefront_page_view/1.4",Kt="myshopify.dev";function _e(e){let t=e,{id:r,resource:n}=w(t.resourceId),a=n?n.toLowerCase():void 0;return[I(Wt,A({pageType:t.pageType,customerId:parseInt(w(t.customerId).id||"0"),resourceType:a,resourceId:parseInt(r)},Yt(t)))]}function Yt(e){return{appClientId:e.shopifySalesChannel?Te[e.shopifySalesChannel]:Te.headless,isMerchantRequest:Jt(e.url),hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",isPersistentCookie:e.hasUserConsent,uniqToken:e.uniqueToken,visitToken:e.visitToken,microSessionId:D(),microSessionCount:1,url:e.url,path:e.path,search:e.search,referrer:e.referrer,title:e.title,shopId:parseInt(w(e.shopId).id),currency:e.currency,contentLanguage:e.acceptedLanguage||"en"}}function Jt(e){if(typeof e!="string")return!1;let t=new URL(e).hostname;return t.indexOf(Kt)!==-1||t==="localhost"}var Ye="2024.10.0";var $="custom_storefront_customer_tracking/1.2",Je="page_rendered",Qe="collection_page_rendered",Ze="product_page_rendered",Qt="product_added_to_cart",Xe="search_submitted";function ee(e){return{canonical_url:e.canonicalUrl||e.url,customer_id:parseInt(w(e.customerId).id||"0")}}function ze(e){let t=e,r=ee(t),n=t.pageType,a=[];switch(a.push(I($,A({event_name:Je,...r},R(t)))),n){case _.collection:a.push(I($,A({event_name:Qe,...r,collection_name:t.collectionHandle,collection_id:parseInt(w(t.collectionId).id)},R(t))));break;case _.product:a.push(I($,A({event_name:Ze,...r,products:Pe(t.products),total_value:t.totalValue},R(t))));break;case _.search:a.push(I($,A({event_name:Xe,...r,search_string:t.searchString},R(t))));break}return a}function et(e){let t=e,r=ee(t);return[I($,A({event_name:Je,...r},R(t)))]}function tt(e){let t=e,r=ee(t);return[I($,A({event_name:Qe,...r,collection_name:t.collectionHandle,collection_id:parseInt(w(t.collectionId).id)},R(t)))]}function rt(e){let t=e,r=ee(t);return[I($,A({event_name:Ze,...r,products:Pe(t.products),total_value:t.totalValue},R(t)))]}function nt(e){let t=e,r=ee(t);return[I($,A({event_name:Xe,...r,search_string:t.searchString},R(t)))]}function at(e){let t=e,r=w(t.cartId),n=r?.id?`${r.id}`:null;return[I($,A({event_name:Qt,customerId:t.customerId,cart_token:n,total_value:t.totalValue,products:Pe(t.products),customer_id:parseInt(w(t.customerId).id||"0")},R(t)))]}function R(e){return{source:e.shopifySalesChannel||ue.headless,asset_version_id:e.assetVersionId||Ye,hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",is_persistent_cookie:e.hasUserConsent,deprecated_visit_token:e.visitToken,unique_token:e.uniqueToken,event_time:Date.now(),event_id:D(),event_source_url:e.url,referrer:e.referrer,user_agent:e.userAgent,navigation_type:e.navigationType,navigation_api:e.navigationApi,shop_id:parseInt(w(e.shopId).id),currency:e.currency,ccpa_enforced:e.ccpaEnforced||!1,gdpr_enforced:e.gdprEnforced||!1,gdpr_enforced_as_string:e.gdprEnforced?"true":"false",analytics_allowed:e.analyticsAllowed||!1,marketing_allowed:e.marketingAllowed||!1,sale_of_data_allowed:e.saleOfDataAllowed||!1}}function Pe(e){return e?e.map(t=>{let r=A({variant_gid:t.variantGid,category:t.category,sku:t.sku,product_id:parseInt(w(t.productGid).id),variant_id:parseInt(w(t.variantGid).id)},{product_gid:t.productGid,name:t.name,variant:t.variantName||"",brand:t.brand,price:parseFloat(t.price),quantity:Number(t.quantity||0)});return JSON.stringify(r)}):[]}function U(e,t){let{eventName:r,payload:n}=e;if(!n.hasUserConsent)return Promise.resolve();let a=[],o=n;return r===v.PAGE_VIEW?a=a.concat(_e(o),ze(o)):r===v.ADD_TO_CART?a=a.concat(at(n)):r===v.PAGE_VIEW_2?a=a.concat(_e(o),et(o)):r===v.COLLECTION_VIEW?a=a.concat(tt(o)):r===v.PRODUCT_VIEW?a=a.concat(rt(o)):r===v.SEARCH_VIEW&&(a=a.concat(nt(o))),a.length?Xt(a,t):Promise.resolve()}function Zt(){return typeof window>"u"||!window.navigator?!1:/Chrome-Lighthouse/.test(window.navigator.userAgent)}var ot="sendShopifyAnalytics request is unsuccessful";function Xt(e,t){if(Zt())return Promise.resolve();let r={events:e,metadata:{event_sent_at_ms:Date.now()}};try{return fetch(t?`https://${t}/.well-known/shopify/monorail/unstable/produce_batch`:"https://monorail-edge.shopifysvc.com/unstable/produce_batch",{method:"post",headers:{"content-type":"text/plain"},body:JSON.stringify(r)}).then(n=>{if(!n.ok)throw new Error("Response failed");return n.text()}).then(n=>{n&&JSON.parse(n).result.forEach(o=>{o.status!==200&&console.error(ot,`

`,o.message)})}).catch(n=>{console.error(ot,n)})}catch{return Promise.resolve()}}function le(){if(Ke("getClientBrowserParameters"))return{uniqueToken:"",visitToken:"",url:"",path:"",search:"",referrer:"",title:"",userAgent:"",navigationType:"",navigationApi:""};let[e,t]=tr(),r=B(document.cookie);return{uniqueToken:r[E],visitToken:r[T],url:location.href,path:location.pathname,search:location.search,referrer:document.referrer,title:document.title,userAgent:navigator.userAgent,navigationType:e,navigationApi:t}}function zt(){try{let e=performance?.getEntriesByType&&performance?.getEntriesByType("navigation");if(e&&e[0]){let t=window.performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch{}}function er(){var e,t;try{if(PerformanceNavigation&&((e=performance?.navigation)==null?void 0:e.type)!==null&&((t=performance?.navigation)==null?void 0:t.type)!==void 0){let r=performance.navigation.type;switch(r){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return`unknown: ${r}`}}}catch{}}function tr(){try{let e="PerformanceNavigationTiming",t=zt();return t||(t=er(),e="performance.navigation"),t?[t,e]:["unknown","unknown"]}catch{}return["error","error"]}var de=S(j(),1),it={};function rr(e,t){let r=it[e];if(r)return r;let n=new Promise((a,o)=>{let i=document.createElement("script");t?.module?i.type="module":i.type="text/javascript",i.src=e,i.onload=()=>{a(!0)},i.onerror=()=>{o(!1)},t?.in==="head"?document.head.appendChild(i):document.body.appendChild(i);let s=t?.attributes;s&&Object.keys(s).forEach(c=>{i.setAttribute(c,s[c])})});return it[e]=n,n}function G(e,t){let[r,n]=(0,de.useState)("loading");return(0,de.useEffect)(()=>{rr(e,t).then(()=>n("done")).catch(()=>n("error"))},[e]),r}var st=S(j(),1);var nr=60*60*24*360*1,ar=60*30;function he(e){let{hasUserConsent:t=!1,domain:r="",checkoutDomain:n=""}=e||{};(0,st.useEffect)(()=>{let a=B(document.cookie),o=r||window.document.location.host;if(n){let s=n.split(".").reverse(),c=o.split(".").reverse(),u=[];s.forEach((p,h)=>{p===c[h]&&u.push(p)}),o=u.reverse().join(".")}/^localhost/.test(o)&&(o="");let i=o?/^\./.test(o)?o:`.${o}`:"";t?(pe(E,a[E]||D(),nr,i),pe(T,a[T]||D(),ar,i)):(pe(E,"",0,i),pe(T,"",0,i))},[e,t,r,n])}function pe(e,t,r,n){document.cookie=Ee(e,t,{maxage:r,domain:n,samesite:"Lax",path:"/"})}var d=S(j(),1);var y=S(ie(),1);var ct=new Set,St=e=>{ct.has(e)||(console.warn(e),ct.add(e))},ut=new Set,lt=e=>{ut.has(e)||(console.error(new Error(e)),ut.add(e))},ir="2024.10.0";var zn=class extends Error{locations;path;extensions;constructor(e,t={}){let r=(t.clientOperation?`[h2:error:${t.clientOperation}] `:"")+e+(t.requestId?` - Request ID: ${t.requestId}`:"");super(r),this.name="GraphQLError",this.extensions=t.extensions,this.locations=t.locations,this.path=t.path,this.stack=t.stack||void 0;try{this.cause=JSON.stringify({...typeof t.cause=="object"?t.cause:{},requestId:t.requestId})}catch{t.cause&&(this.cause=t.cause)}}get[Symbol.toStringTag](){return this.name}toString(){let e=`${this.name}: ${this.message}`;if(this.path)try{e+=` | path: ${JSON.stringify(this.path)}`}catch{}if(this.extensions)try{e+=` | extensions: ${JSON.stringify(this.extensions)}`}catch{}return e+=`
`,this.stack&&(e+=`${this.stack.slice(this.stack.indexOf(`
`)+1)}
`),e}toJSON(){return{name:"Error",message:""}}};var ea=(0,d.lazy)(()=>import("/build/_shared/log-seo-tags-TY72EQWZ-7ZBDM46A.js"));function ta({connection:e,children:t=()=>(console.warn("<Pagination> requires children to work properly"),null)}){let r=oe().state==="loading",{endCursor:n,hasNextPage:a,hasPreviousPage:o,nextPageUrl:i,nodes:s,previousPageUrl:c,startCursor:u}=sr(e),p=(0,d.useMemo)(()=>({pageInfo:{endCursor:n,hasPreviousPage:o,hasNextPage:a,startCursor:u},nodes:s}),[n,a,o,u,s]),h=(0,d.useMemo)(()=>(0,d.forwardRef)(function(l,g){return a?(0,d.createElement)(Ae,{preventScrollReset:!0,...l,to:i,state:p,replace:!0,ref:g}):null}),[a,i,p]),f=(0,d.useMemo)(()=>(0,d.forwardRef)(function(l,g){return o?(0,d.createElement)(Ae,{preventScrollReset:!0,...l,to:c,state:p,replace:!0,ref:g}):null}),[o,c,p]);return t({state:p,hasNextPage:a,hasPreviousPage:o,isLoading:r,nextPageUrl:i,nodes:s,previousPageUrl:c,NextLink:h,PreviousLink:f})}function fe(e){let t=new URLSearchParams(e);return t.delete("cursor"),t.delete("direction"),t.toString()}function te(e){throw new Error(`The Pagination component requires ${"`"+e+"`"} to be a part of your query. See the guide on how to setup your query to include ${"`"+e+"`"}: https://shopify.dev/docs/custom-storefronts/hydrogen/data-fetching/pagination#setup-the-paginated-query`)}function sr(e){e.pageInfo||te("pageInfo"),typeof e.pageInfo.startCursor>"u"&&te("pageInfo.startCursor"),typeof e.pageInfo.endCursor>"u"&&te("pageInfo.endCursor"),typeof e.pageInfo.hasNextPage>"u"&&te("pageInfo.hasNextPage"),typeof e.pageInfo.hasPreviousPage>"u"&&te("pageInfo.hasPreviousPage");let t=Ue(),{state:r,search:n,pathname:a}=ae(),o=new URLSearchParams(n).get("direction")==="previous",i=(0,d.useMemo)(()=>!globalThis?.window?.__hydrogenHydrated||!r||!r?.nodes?x(e):o?[...x(e),...r.nodes]:[...r.nodes,...x(e)],[r,e]),s=(0,d.useMemo)(()=>{let h=globalThis?.window?.__hydrogenHydrated,f=!h||r?.pageInfo?.startCursor===void 0?e.pageInfo.startCursor:r.pageInfo.startCursor,l=!h||r?.pageInfo?.endCursor===void 0?e.pageInfo.endCursor:r.pageInfo.endCursor,g=!h||r?.pageInfo?.hasPreviousPage===void 0?e.pageInfo.hasPreviousPage:r.pageInfo.hasPreviousPage,m=!h||r?.pageInfo?.hasNextPage===void 0?e.pageInfo.hasNextPage:r.pageInfo.hasNextPage;return r?.nodes&&(o?(f=e.pageInfo.startCursor,g=e.pageInfo.hasPreviousPage):(l=e.pageInfo.endCursor,m=e.pageInfo.hasNextPage)),{startCursor:f,endCursor:l,hasPreviousPage:g,hasNextPage:m}},[o,r,e.pageInfo.hasNextPage,e.pageInfo.hasPreviousPage,e.pageInfo.startCursor,e.pageInfo.endCursor]),c=(0,d.useRef)({params:fe(n),pathname:a});(0,d.useEffect)(()=>{window.__hydrogenHydrated=!0},[]),(0,d.useEffect)(()=>{(fe(n)!==c.current.params||a!==c.current.pathname)&&(c.current={pathname:a,params:fe(n)},t(`${a}?${fe(n)}`,{replace:!0,preventScrollReset:!0,state:{nodes:void 0,pageInfo:void 0}}))},[a,n]);let u=(0,d.useMemo)(()=>{let h=new URLSearchParams(n);return h.set("direction","previous"),s.startCursor&&h.set("cursor",s.startCursor),`?${h.toString()}`},[n,s.startCursor]),p=(0,d.useMemo)(()=>{let h=new URLSearchParams(n);return h.set("direction","next"),s.endCursor&&h.set("cursor",s.endCursor),`?${h.toString()}`},[n,s.endCursor]);return{...s,previousPageUrl:u,nextPageUrl:p,nodes:i}}var ra=`Shopify Hydrogen ${ir}`;var bt="cartFormInput";function N({children:e,action:t,inputs:r,route:n,fetcherKey:a}){let o=Le({key:a});return(0,y.jsxs)(o.Form,{action:n||"",method:"post",children:[(t||r)&&(0,y.jsx)("input",{type:"hidden",name:bt,value:JSON.stringify({action:t,inputs:r})}),typeof e=="function"?e(o):e]})}N.INPUT_NAME=bt;N.ACTIONS={AttributesUpdateInput:"AttributesUpdateInput",BuyerIdentityUpdate:"BuyerIdentityUpdate",Create:"Create",DiscountCodesUpdate:"DiscountCodesUpdate",GiftCardCodesUpdate:"GiftCardCodesUpdate",LinesAdd:"LinesAdd",LinesRemove:"LinesRemove",LinesUpdate:"LinesUpdate",NoteUpdate:"NoteUpdate",SelectedDeliveryOptionsUpdate:"SelectedDeliveryOptionsUpdate",MetafieldsSet:"MetafieldsSet",MetafieldDelete:"MetafieldDelete"};function cr(e){let t={};for(let i of e.entries()){let s=i[0],c=e.getAll(s);t[s]=c.length>1?c:i[1]}let{cartFormInput:r,...n}=t,{action:a,inputs:o}=r?JSON.parse(String(r)):{};return{action:a,inputs:{...o,...n}}}N.getFormInput=cr;var Et="__h_pending_";function ur(e){return Et+e}function dt(e){return e.startsWith(Et)}function na(e){let t=Oe();if(!t||!t.length)return e;let r=e?.lines?structuredClone(e):{lines:{nodes:[]}},n=r.lines.nodes,a=!1;for(let{formData:o}of t){if(!o)continue;let i=N.getFormInput(o);if(i.action===N.ACTIONS.LinesAdd)for(let s of i.inputs.lines){if(!s.selectedVariant){console.error("[h2:error:useOptimisticCart] No selected variant was passed in the cart action. Make sure to pass the selected variant if you want to use an optimistic cart");continue}let c=n.find(u=>u.merchandise.id===s.selectedVariant?.id);a=!0,c?(c.quantity=(c.quantity||1)+(s.quantity||1),c.isOptimistic=!0):n.unshift({id:ur(s.selectedVariant.id),merchandise:s.selectedVariant,isOptimistic:!0,quantity:s.quantity||1})}else if(i.action===N.ACTIONS.LinesRemove)for(let s of i.inputs.lineIds){let c=n.findIndex(u=>u.id===s);if(c!==-1){if(dt(n[c].id)){console.error("[h2:error:useOptimisticCart] Tried to remove an optimistic line that has not been added to the cart yet");continue}n.splice(c,1),a=!0}else console.warn(`[h2:warn:useOptimisticCart] Tried to remove line '${s}' but it doesn't exist in the cart`)}else if(i.action===N.ACTIONS.LinesUpdate)for(let s of i.inputs.lines){let c=n.findIndex(u=>s.id===u.id);if(c>-1){if(dt(n[c].id)){console.error("[h2:error:useOptimisticCart] Tried to update an optimistic line that has not been added to the cart yet");continue}n[c].quantity=s.quantity,n[c].quantity===0&&n.splice(c,1),a=!0}else console.warn(`[h2:warn:useOptimisticCart] Tried to update line '${s.id}' but it doesn't exist in the cart`)}}return a&&(r.isOptimistic=a),r.totalQuantity=n.reduce((o,i)=>o+i.quantity,0),r}function aa({handle:e,options:t=[],variants:r=[],productPath:n="products",waitForNavigation:a=!1,children:o}){let i=t;i[0]?.values&&(St("[h2:warn:VariantSelector] product.options.values is deprecated. Use product.options.optionValues instead."),i[0]&&!i[0].optionValues&&(i=t.map(f=>({...f,optionValues:f.values?.map(l=>({name:l}))||[]}))));let s=r instanceof Array?r:x(r),{searchParams:c,path:u,alreadyOnProductPage:p}=lr(e,n,a),h=i.filter(f=>f?.optionValues?.length===1);return(0,d.createElement)(d.Fragment,null,...(0,d.useMemo)(()=>i.map(f=>{let l,g=[];for(let m of f.optionValues){let C=new URLSearchParams(p?c:void 0);C.set(f.name,m.name),h.forEach(M=>{M.optionValues[0].name&&C.set(M.name,M.optionValues[0].name)});let k=s.find(M=>M?.selectedOptions?.every(F=>C.get(F?.name)===F?.value)),L=c.get(f.name),V=L?L===m.name:!1;V&&(l=m.name);let K="?"+C.toString();g.push({value:m.name,optionValue:m,isAvailable:k?k.availableForSale:!0,to:u+K,search:K,isActive:V,variant:k})}return o({option:{name:f.name,value:l,values:g}})}),[i,s,o]))}function lr(e,t,r){let{pathname:n,search:a}=ae(),o=oe();return(0,d.useMemo)(()=>{let i=/(\/[a-zA-Z]{2}-[a-zA-Z]{2}\/)/g.exec(n),s=i&&i.length>0;t=t.startsWith("/")?t.substring(1):t;let c=s?`${i[0]}${t}/${e}`:`/${t}/${e}`;return{searchParams:new URLSearchParams(r||o.state!=="loading"?a:o.location.search),alreadyOnProductPage:c===n,path:c}},[n,a,r,e,t,o])}function oa(e,t){let r=oe(),[n,a]=(0,d.useState)([]);if((0,d.useEffect)(()=>{Promise.resolve(t).then(o=>{o&&a(o instanceof Array?o:o.product?.variants?.nodes||[])}).catch(o=>{reportError(new Error("[h2:error:useOptimisticVariant] An error occurred while resolving the variants for the optimistic product hook.",{cause:o}))})},[t]),r.state==="loading"){let o=new URLSearchParams(r.location.search),i=!1,s=n.find(c=>c.selectedOptions?c.selectedOptions.every(u=>o.get(u.name)===u.value):(i||(i=!0,reportError(new Error("[h2:error:useOptimisticVariant] The optimistic product hook requires your product query to include variants with the selectedOptions field."))),!1));if(s)return{...s,isOptimistic:!0}}return e}var Tt=(0,d.createContext)(void 0),ia=Tt.Provider,dr=()=>(0,d.useContext)(Tt);var sa=(0,d.forwardRef)((e,t)=>{let{waitForHydration:r,src:n,...a}=e;if(r)return(0,y.jsx)(pr,{src:n,options:a});let o=dr();return(0,y.jsx)("script",{suppressHydrationWarning:!0,...a,src:n,nonce:o,ref:t})});function pr({src:e,options:t}){if(!e)throw new Error("`waitForHydration` with the Script component requires a `src` prop");return G(e,{attributes:t}),null}function W(e){let{type:t,data:r={},customData:n}=e,a=ae(),{publish:o,cart:i,prevCart:s,shop:c,customData:u}=ve(),p=a.pathname+a.search,h={...r,customData:{...u,...n},cart:i,prevCart:s,shop:c};return(0,d.useEffect)(()=>{c?.shopId&&(h={...h,url:window.location.href},o(t,h))},[o,p,c?.shopId]),null}function hr(e){return(0,y.jsx)(W,{...e,type:"page_viewed"})}function fr(e){return(0,y.jsx)(W,{...e,type:"product_viewed"})}function mr(e){return(0,y.jsx)(W,{...e,type:"collection_viewed"})}function gr(e){return(0,y.jsx)(W,{...e,type:"cart_viewed"})}function yr(e){return(0,y.jsx)(W,{...e,type:"search_viewed"})}function wr(e){return(0,y.jsx)(W,{...e})}var P={PAGE_VIEWED:"page_viewed",PRODUCT_VIEWED:"product_viewed",COLLECTION_VIEWED:"collection_viewed",CART_VIEWED:"cart_viewed",SEARCH_VIEWED:"search_viewed",CART_UPDATED:"cart_updated",PRODUCT_ADD_TO_CART:"product_added_to_cart",PRODUCT_REMOVED_FROM_CART:"product_removed_from_cart",CUSTOM_EVENT:"custom_"},vr="https://cdn.shopify.com/shopifycloud/consent-tracking-api/v0.1/consent-tracking-api.js",Cr="https://cdn.shopify.com/shopifycloud/privacy-banner/storefront-banner.js";function ke(e){console.error(`[h2:error:useCustomerPrivacy] Unable to setup Customer Privacy API: Missing consent.${e} configuration.`)}function Ar(e){let{withPrivacyBanner:t=!1,onVisitorConsentCollected:r,onReady:n,...a}=e;G(t?Cr:vr,{attributes:{id:"customer-privacy-api"}});let{observing:o,setLoaded:i}=Ir({withPrivacyBanner:t,onLoaded:n}),s=(0,d.useMemo)(()=>{let{checkoutDomain:u,storefrontAccessToken:p}=a;return u||ke("checkoutDomain"),p||ke("storefrontAccessToken"),(p.startsWith("shpat_")||p.length!==32)&&console.error("[h2:error:useCustomerPrivacy] It looks like you passed a private access token, make sure to use the public token"),{checkoutRootDomain:u,storefrontAccessToken:p,storefrontRootDomain:ft(u),country:a.country,locale:a.locale}},[a,ft,ke]);(0,d.useEffect)(()=>{let u=p=>{r&&r(p.detail)};return document.addEventListener("visitorConsentCollected",u),()=>{document.removeEventListener("visitorConsentCollected",u)}},[r]),(0,d.useEffect)(()=>{if(!t||o.current.privacyBanner)return;o.current.privacyBanner=!0;let u=window.privacyBanner||void 0;Object.defineProperty(window,"privacyBanner",{configurable:!0,get(){return u},set(p){if(typeof p=="object"&&p!==null&&"showPreferences"in p&&"loadBanner"in p){let h=p;h.loadBanner(s),u=gt({privacyBanner:h,config:s}),i.privacyBanner(),ht()}}})},[t,s,gt,i.privacyBanner]),(0,d.useEffect)(()=>{if(o.current.customerPrivacy)return;o.current.customerPrivacy=!0;let u=null,p=window.Shopify||void 0;Object.defineProperty(window,"Shopify",{configurable:!0,get(){return p},set(h){typeof h=="object"&&h!==null&&Object.keys(h).length===0&&(p=h,Object.defineProperty(window.Shopify,"customerPrivacy",{configurable:!0,get(){return u},set(f){if(typeof f=="object"&&f!==null&&"setTrackingConsent"in f){let l=f;u={...l,setTrackingConsent:mt({customerPrivacy:l,config:s})},p={...p,customerPrivacy:u},i.customerPrivacy(),ht()}}}))}})},[s,mt,i.customerPrivacy]);let c={customerPrivacy:we()};return t&&(c.privacyBanner=xe()),c}var pt=!1;function ht(){if(pt)return;pt=!0;let e=new CustomEvent("shopifyCustomerPrivacyApiLoaded");document.dispatchEvent(e)}function Ir({withPrivacyBanner:e,onLoaded:t}){let r=(0,d.useRef)({customerPrivacy:!1,privacyBanner:!1}),[n,a]=(0,d.useState)(e?[!1,!1]:[!1]),o=n.every(Boolean),i={customerPrivacy:()=>{a(e?s=>[!0,s[1]]:()=>[!0])},privacyBanner:()=>{e&&a(s=>[s[0],!0])}};return(0,d.useEffect)(()=>{o&&t&&t()},[o,t]),{observing:r,setLoaded:i}}function ft(e){if(typeof window>"u")return;let t=window.document.location.host,r=e.split(".").reverse(),n=t.split(".").reverse(),a=[];return r.forEach((o,i)=>{o===n[i]&&a.push(o)}),a.reverse().join(".")}function mt({customerPrivacy:e,config:t}){let r=e.setTrackingConsent,{locale:n,country:a,...o}=t;function i(s,c){r({...o,headlessStorefront:!0,...s},c)}return i}function gt({privacyBanner:e,config:t}){let r=e.loadBanner,n=e.showPreferences;function a(i){if(typeof i=="object"){r({...t,...i});return}r(t)}function o(i){if(typeof i=="object"){n({...t,...i});return}n(t)}return{loadBanner:a,showPreferences:o}}function we(){try{return window.Shopify&&window.Shopify.customerPrivacy?window.Shopify?.customerPrivacy:null}catch{return null}}function xe(){try{return window&&window?.privacyBanner?window.privacyBanner:null}catch{return null}}var Sr="2024.10.0";function br(){let e=we();if(!e)throw new Error("Shopify Customer Privacy API not available. Must be used within a useEffect. Make sure to load the Shopify Customer Privacy API with useCustomerPrivacy() or <AnalyticsProvider>.");return e}function Er({consent:e,onReady:t,domain:r}){let{subscribe:n,register:a,canTrack:o}=ve(),[i,s]=(0,d.useState)(!1),[c,u]=(0,d.useState)(!1),p=(0,d.useRef)(!1),{checkoutDomain:h,storefrontAccessToken:f,language:l}=e,{ready:g}=a("Internal_Shopify_Analytics");return Ar({...e,locale:l,checkoutDomain:h||"mock.shop",storefrontAccessToken:f||"abcdefghijklmnopqrstuvwxyz123456",onVisitorConsentCollected:()=>u(!0),onReady:()=>u(!0)}),he({hasUserConsent:c?o():!0,domain:r,checkoutDomain:h}),(0,d.useEffect)(()=>{p.current||(p.current=!0,n(P.PAGE_VIEWED,_r),n(P.PRODUCT_VIEWED,Pr),n(P.COLLECTION_VIEWED,kr),n(P.SEARCH_VIEWED,xr),n(P.PRODUCT_ADD_TO_CART,$r),s(!0))},[n]),(0,d.useEffect)(()=>{i&&c&&(g(),t())},[i,c,t]),null}function me(e){console.error(`[h2:error:ShopifyAnalytics] Unable to send Shopify analytics: Missing shop.${e} configuration.`)}function ne(e){let t=br(),r=t.analyticsProcessingAllowed();if(!e?.shop?.shopId){me("shopId");return}if(!e?.shop?.acceptedLanguage){me("acceptedLanguage");return}if(!e?.shop?.currency){me("currency");return}if(!e?.shop?.hydrogenSubchannelId){me("hydrogenSubchannelId");return}return{shopifySalesChannel:"hydrogen",assetVersionId:Sr,...e.shop,hasUserConsent:r,...le(),ccpaEnforced:!t.saleOfDataAllowed(),gdprEnforced:!(t.marketingAllowed()&&t.analyticsProcessingAllowed()),analyticsAllowed:t.analyticsProcessingAllowed(),marketingAllowed:t.marketingAllowed(),saleOfDataAllowed:t.saleOfDataAllowed()}}function Tr(e,t){if(t===null)return;let r=ne(e);return r?{...r,cartId:t.id}:void 0}var O={};function _r(e){let t=ne(e);t&&(U({eventName:v.PAGE_VIEW_2,payload:{...t,...O}}),O={})}function Pr(e){let t=ne(e);if(t&&_t({type:"product",products:e.products})){let r=$e(e.products);O={pageType:_.product,resourceId:r[0].productGid},t={...t,...O,products:$e(e.products)},U({eventName:v.PRODUCT_VIEW,payload:t})}}function kr(e){let t=ne(e);t&&(O={pageType:_.collection,resourceId:e.collection.id},t={...t,...O,collectionHandle:e.collection.handle,collectionId:e.collection.id},U({eventName:v.COLLECTION_VIEW,payload:t}))}function xr(e){let t=ne(e);t&&(O={pageType:_.search},t={...t,...O,searchString:e.searchTerm},U({eventName:v.SEARCH_VIEW,payload:t}))}function $r(e){let{cart:t,currentLine:r}=e,n=Tr(e,t);!n||!r?.id||Rr({matchedLine:r,eventPayload:n})}function Rr({matchedLine:e,eventPayload:t}){let r={id:e.merchandise.product.id,variantId:e.merchandise.id,title:e.merchandise.product.title,variantTitle:e.merchandise.title,vendor:e.merchandise.product.vendor,price:e.merchandise.price.amount,quantity:e.quantity,productType:e.merchandise.product.productType,sku:e.merchandise.sku};_t({type:"cart",products:[r]})&&U({eventName:v.ADD_TO_CART,payload:{...t,products:$e([r])}})}function q(e,t,r,n){if(e==="cart"){let a=`${r?"merchandise":"merchandise.product"}.${t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up cart analytics events because the \`cart.lines[].${a}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartLine on CartLine\` is defined and make sure \`${a}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L25-L56.`)}else{let a=`${n||t}`;console.error(`[h2:error:ShopifyAnalytics] Can't set up product view analytics events because the \`${a}\` is missing from your \`<Analytics.ProductView>\`. Make sure \`${a}\` is part of your products data prop. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/routes/products.%24handle.tsx#L159-L165.`)}}function _t({type:e,products:t}){return!t||t.length===0?(q(e,"",!1,"data.products"),!1):(t.forEach(r=>{if(!r.id)return q(e,"id",!1),!1;if(!r.title)return q(e,"title",!1),!1;if(!r.price)return q(e,"price.amount",!0,"price"),!1;if(!r.vendor)return q(e,"vendor",!1),!1;if(!r.variantId)return q(e,"id",!0,"variantId"),!1;if(!r.variantTitle)return q(e,"title",!0,"variantTitle"),!1}),!0)}function $e(e){return e.map(t=>{let r={productGid:t.id,variantGid:t.variantId,name:t.title,variantName:t.variantTitle,brand:t.vendor,price:t.price,quantity:t.quantity||1,category:t.productType};return t.sku&&(r.sku=t.sku),t.productType&&(r.category=t.productType),r})}function yt(e){console.error(`[h2:error:CartAnalytics] Can't set up cart analytics events because the \`cart.${e}\` value is missing from your GraphQL cart query. In your project, search for where \`fragment CartApiQuery on Cart\` is defined and make sure \`${e}\` is part of your cart query. Check the Hydrogen Skeleton template for reference: https://github.com/Shopify/hydrogen/blob/main/templates/skeleton/app/lib/fragments.ts#L59.`)}function Ur({cart:e,setCarts:t}){let{publish:r,shop:n,customData:a,canTrack:o,cart:i,prevCart:s}=ve(),c=(0,d.useRef)(null);return(0,d.useEffect)(()=>{if(e)return Promise.resolve(e).then(u=>{if(u&&u.lines){if(!u.id){yt("id");return}if(!u.updatedAt){yt("updatedAt");return}}t(({cart:p,prevCart:h})=>u?.updatedAt!==p?.updatedAt?{cart:u,prevCart:p}:{cart:p,prevCart:h})}),()=>{}},[t,e]),(0,d.useEffect)(()=>{if(!i||!i?.updatedAt||i?.updatedAt===s?.updatedAt)return;let u;try{u=JSON.parse(localStorage.getItem("cartLastUpdatedAt")||"")}catch{u=null}if(i.id===u?.id&&i.updatedAt===u?.updatedAt)return;let p={eventTimestamp:Date.now(),cart:i,prevCart:s,shop:n,customData:a};if(i.updatedAt===c.current)return;c.current=i.updatedAt,r("cart_updated",p),localStorage.setItem("cartLastUpdatedAt",JSON.stringify({id:i.id,updatedAt:i.updatedAt}));let h=s?.lines?x(s?.lines):[],f=i.lines?x(i.lines):[];h?.forEach(l=>{let g=f.filter(m=>l.id===m.id);if(g?.length===1){let m=g[0];l.quantity<m.quantity?r("product_added_to_cart",{...p,prevLine:l,currentLine:m}):l.quantity>m.quantity&&r("product_removed_from_cart",{...p,prevLine:l,currentLine:m})}else r("product_removed_from_cart",{...p,prevLine:l})}),f?.forEach(l=>{let g=h.filter(m=>l.id===m.id);(!g||g.length===0)&&r("product_added_to_cart",{...p,currentLine:l})})},[i,s,r,n,a,o]),null}var Or="https://cdn.shopify.com/shopifycloud/perf-kit/shopify-perf-kit-1.0.1.min.js";function Lr({shop:e}){let t=(0,d.useRef)(!1),{subscribe:r,register:n}=ve(),{ready:a}=n("Internal_Shopify_Perf_Kit"),o=G(Or,{attributes:{id:"perfkit","data-application":"hydrogen","data-shop-id":w(e.shopId).id.toString(),"data-storefront-id":e.hydrogenSubchannelId,"data-monorail-region":"global","data-spa-mode":"true","data-resource-timing-sampling-rate":"100"}});return(0,d.useEffect)(()=>{o!=="done"||t.current||(t.current=!0,r(P.PAGE_VIEWED,()=>{window.PerfKit?.navigate()}),r(P.PRODUCT_VIEWED,()=>{window.PerfKit?.setPageType("product")}),r(P.COLLECTION_VIEWED,()=>{window.PerfKit?.setPageType("collection")}),r(P.SEARCH_VIEWED,()=>{window.PerfKit?.setPageType("search")}),r(P.CART_VIEWED,()=>{window.PerfKit?.setPageType("cart")}),a())},[r,a,o]),null}var Dr={canTrack:()=>!1,cart:null,customData:{},prevCart:null,publish:()=>{},shop:null,subscribe:()=>{},register:()=>({ready:()=>{}}),customerPrivacy:null,privacyBanner:null},Pt=(0,d.createContext)(Dr),ge=new Map,re={};function kt(){return Object.values(re).every(Boolean)}function wt(e,t){ge.has(e)||ge.set(e,new Map),ge.get(e)?.set(t.toString(),t)}var ye=new Map;function vt(e,t){if(!kt()){ye.set(e,t);return}xt(e,t)}function xt(e,t){(ge.get(e)??new Map).forEach((r,n)=>{try{r(t)}catch(a){typeof a=="object"&&a instanceof Error?console.error("Analytics publish error",a.message,n,a.stack):console.error("Analytics publish error",a,n)}})}function Ct(e){return re.hasOwnProperty(e)||(re[e]=!1),{ready:()=>{re[e]=!0,kt()&&ye.size>0&&(ye.forEach((t,r)=>{xt(r,t)}),ye.clear())}}}function At(){try{return window.Shopify.customerPrivacy.analyticsProcessingAllowed()}catch{}return!1}function It(e,t){return`[h2:error:Analytics.Provider] - ${e} is required. Make sure ${t} is defined in your environment variables. See https://h2o.fyi/analytics/consent to learn how to setup environment variables in the Shopify admin.`}function qr({canTrack:e,cart:t,children:r,consent:n,customData:a={},shop:o=null,cookieDomain:i}){let s=(0,d.useRef)(!1),{shop:c}=Nr(o),[u,p]=(0,d.useState)(!!e),[h,f]=(0,d.useState)({cart:null,prevCart:null}),[l,g]=(0,d.useState)(e?()=>e:()=>At);if(c)if(/\/68817551382$/.test(c.shopId))St("[h2:error:Analytics.Provider] - Mock shop is used. Analytics will not work properly.");else{if(!n.checkoutDomain){let C=It("consent.checkoutDomain","PUBLIC_CHECKOUT_DOMAIN");lt(C)}if(!n.storefrontAccessToken){let C=It("consent.storefrontAccessToken","PUBLIC_STOREFRONT_API_TOKEN");lt(C)}n?.country||(n.country="US"),n?.language||(n.language="EN"),n.withPrivacyBanner===void 0&&(n.withPrivacyBanner=!1)}let m=(0,d.useMemo)(()=>({canTrack:l,...h,customData:a,publish:l()?vt:()=>{},shop:c,subscribe:wt,register:Ct,customerPrivacy:we(),privacyBanner:xe()}),[u,l,h,h.cart?.updatedAt,h.prevCart,vt,wt,a,c,Ct,JSON.stringify(re),we,xe]);return(0,y.jsxs)(Pt.Provider,{value:m,children:[r,!!c&&(0,y.jsx)(hr,{}),!!c&&!!t&&(0,y.jsx)(Ur,{cart:t,setCarts:f}),!!c&&n.checkoutDomain&&(0,y.jsx)(Er,{consent:n,onReady:()=>{s.current=!0,p(!0),g(e?()=>e:()=>At)},domain:i}),!!c&&(0,y.jsx)(Lr,{shop:c})]})}function ve(){let e=(0,d.useContext)(Pt);if(!e)throw new Error("[h2:error:useAnalytics] 'useAnalytics()' must be a descendent of <AnalyticsProvider/>");return e}function Nr(e){let[t,r]=(0,d.useState)(null);return(0,d.useEffect)(()=>(Promise.resolve(e).then(r),()=>{}),[r,e]),{shop:t}}var ca={CartView:gr,CollectionView:mr,CustomView:wr,ProductView:fr,Provider:qr,SearchView:yr};export{x as a,Ve as b,Fe as c,ta as d,N as e,na as f,aa as g,oa as h,dr as i,ve as j,ca as k};
/*! Bundled license information:

@shopify/hydrogen/dist/production/index.js:
  (*! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartCreate *)
  (*! @see https://shopify.dev/docs/api/storefront/latest/queries/cart *)
  (*! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartLinesAdd *)
  (*! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartLinesUpdate *)
  (*! @see: https://shopify.dev/docs/api/storefront/latest/mutations/cartLinesRemove *)
  (*! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartDiscountCodesUpdate *)
  (*! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartGiftCardCodesUpdate *)
  (*! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartBuyerIdentityUpdate *)
  (*! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartNoteUpdate *)
  (*! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartSelectedDeliveryOptionsUpdate *)
  (*! @see https://shopify.dev/docs/api/storefront/latest/mutations/cartMetafieldsSet *)
  (*! @see https://shopify.dev/docs/api/storefront/2024-10/mutations/cartMetafieldDelete *)
*/
