import{j as r,L as u,u as l,r as p,A as m}from"./components-7YnbHHm3.js";import{a as d,M as x,G as j,j as h}from"./index-1JpHDT0i.js";import{u as v,P as b}from"./ProductPrice-HRP-iv0k.js";import{I as f}from"./Image-CMjLZVJT.js";import"./Money-DPx7cSxV.js";function g({image:s}){return s?r.jsx("div",{className:"product-image",children:r.jsx(f,{alt:s.altText||"Product Image",aspectRatio:"1/1",data:s,sizes:"(min-width: 45em) 50vw, 100vw"},s.id)}):r.jsx("div",{className:"product-image"})}function P({analytics:s,children:t,disabled:i,lines:n,onClick:o}){return r.jsx(d,{route:"/cart",inputs:{lines:n},action:d.ACTIONS.LinesAdd,children:e=>r.jsxs(r.Fragment,{children:[r.jsx("input",{name:"analytics",type:"hidden",value:JSON.stringify(s)}),r.jsx("button",{type:"submit",onClick:o,disabled:i??e.state!=="idle",children:t})]})})}function a({product:s,selectedVariant:t,variants:i}){const{open:n}=v();return r.jsxs("div",{className:"product-form",children:[r.jsx(x,{handle:s.handle,options:s.options.filter(o=>o.optionValues.length>1),variants:i,children:({option:o})=>r.jsx(y,{option:o},o.name)}),r.jsx("br",{}),r.jsx(P,{disabled:!t||!t.availableForSale,onClick:()=>{n("cart")},lines:t?[{merchandiseId:t.id,quantity:1,selectedVariant:t}]:[],children:t!=null&&t.availableForSale?"Add to cart":"Sold out"})]})}function y({option:s}){return r.jsxs("div",{className:"product-options",children:[r.jsx("h5",{children:s.name}),r.jsx("div",{className:"product-options-grid",children:s.values.map(({value:t,isAvailable:i,isActive:n,to:o})=>r.jsx(u,{className:"product-options-item",prefetch:"intent",preventScrollReset:!0,replace:!0,to:o,style:{border:n?"1px solid black":"1px solid transparent",opacity:i?1:.3},children:t},s.name+t))}),r.jsx("br",{})]},s.name)}const T=({data:s})=>[{title:`Hydrogen | ${(s==null?void 0:s.product.title)??""}`}];function L(){const{product:s,variants:t}=l(),i=j(s.selectedVariant,t),{title:n,descriptionHtml:o}=s;return r.jsxs("div",{className:"product",children:[r.jsx(g,{image:i==null?void 0:i.image}),r.jsxs("div",{className:"product-main",children:[r.jsx("h1",{children:n}),r.jsx(b,{price:i==null?void 0:i.price,compareAtPrice:i==null?void 0:i.compareAtPrice}),r.jsx("br",{}),r.jsx(p.Suspense,{fallback:r.jsx(a,{product:s,selectedVariant:i,variants:[]}),children:r.jsx(m,{errorElement:"There was a problem loading product variants",resolve:t,children:e=>{var c;return r.jsx(a,{product:s,selectedVariant:i,variants:((c=e==null?void 0:e.product)==null?void 0:c.variants.nodes)||[]})}})}),r.jsx("br",{}),r.jsx("br",{}),r.jsx("p",{children:r.jsx("strong",{children:"Description"})}),r.jsx("br",{}),r.jsx("div",{dangerouslySetInnerHTML:{__html:o}}),r.jsx("br",{})]}),r.jsx(h.ProductView,{data:{products:[{id:s.id,title:s.title,price:(i==null?void 0:i.price.amount)||"0",vendor:s.vendor,variantId:(i==null?void 0:i.id)||"",variantTitle:(i==null?void 0:i.title)||"",quantity:1}]}})]})}export{L as default,T as meta};
